<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <!-- Google Fonts loading -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@100;400;700&display=swap" rel="stylesheet"> 
  <title>GSAP Trial__BASIC SAMPLE 04</title>
</head>
<body>
<main>

<a href="/">戻る</a>

<h1>GSAPのスタンダードな機能を用いた簡単なアニメーション 応用編3</h1>

<article>

  <section>
    <h2>Staggerへのオブジェクト指定 2</h2>
    <p>
      staggerパラメータへオブジェクトで指定を行うことで、アニメーションを細かく指定することができます。<br/>
      オブジェクト内には下記のプロパティを指定することができます。
    </p>

    <!-- 
      grid 
    -->
    <section>
      <h3>grid</h3>
      <p>
        gridプロパティには配列指定と、定型値"auto"を指定できます。<br/>
        要素の列がグリッド型に(整理された状態で)表示されている場合、"grid"プロパティへ幾つの行と列があるのかを(以下の様に)示すことで、
        GSAPはその指定に応じて近接度合い(gridトゥイーン開始位置=起点)を計算することができます。
        <br/>
        もしくは、grid:"auto" を使用することで、GSAPは要素の絶対座標位置を取得する 
        <a href="https://developer.mozilla.org/ja/docs/Web/API/Element/getBoundingClientRect" target="_blank">element.getBoundingClientRect()</a>
        関数を使用して行と列を自動的に計算します。(要素の並び方が固定でないときがある場合=レスポンシブレイアウト に最適) <br/>
        もしも要素の列が整ったグリッドに配置されていない場合(ランダムであったり、不均一な配置の場合)には、
        <a href="https://codepen.io/GreenSock/pen/gyWrPO?editors=0010" target="_blank">distributeByPosition()ヘルパー関数</a>
        が用意されているので、参考にしてみてください。
      </p>
      <pre>
        Example...
        grid:[9,15]</pre>
      <div class="element__parent grid">
        <div class="rect">grid : "auto"</div>
        <div class="rect">grid : "auto"</div>
        <div class="rect">grid : "auto"</div>
        <div class="rect">grid : "auto"</div>
        <div class="rect">grid : "auto"</div>
        <div class="rect">grid : "auto"</div>
        <div class="rect">grid : "auto"</div>
        <div class="rect">grid : "auto"</div>

        <div class="rect">grid : "auto"</div>
        <div class="rect">grid : "auto"</div>
        <div class="rect">grid : "auto"</div>
        <div class="rect">grid : "auto"</div>
        <div class="rect">grid : "auto"</div>
        <div class="rect">grid : "auto"</div>
        <div class="rect">grid : "auto"</div>
        <div class="rect">grid : "auto"</div>

        <div class="rect">grid : "auto"</div>
        <div class="rect">grid : "auto"</div>
        <div class="rect">grid : "auto"</div>
        <div class="rect">grid : "auto"</div>
        <div class="rect">grid : "auto"</div>
        <div class="rect">grid : "auto"</div>
        <div class="rect">grid : "auto"</div>
        <div class="rect">grid : "auto"</div>

        <div class="rect">grid : "auto"</div>
        <div class="rect">grid : "auto"</div>
        <div class="rect">grid : "auto"</div>
        <div class="rect">grid : "auto"</div>
        <div class="rect">grid : "auto"</div>
        <div class="rect">grid : "auto"</div>
        <div class="rect">grid : "auto"</div>
        <div class="rect">grid : "auto"</div>

        <div class="rect">grid : "auto"</div>
        <div class="rect">grid : "auto"</div>
        <div class="rect">grid : "auto"</div>
        <div class="rect">grid : "auto"</div>
        <div class="rect">grid : "auto"</div>
        <div class="rect">grid : "auto"</div>
        <div class="rect">grid : "auto"</div>
        <div class="rect">grid : "auto"</div>
      </div>

    </section>

    <!-- 
      axis 
    -->
    <section>
      <h3>axis</h3>
      <p>
        axisプロパティには string値 "x"と"y" を指定することができます。<br/>
        gridプロパティを定義したとき、
        スタッガートゥイーンの伝播方向は
        from プロパティに指定されている(あるいはデフォルトの"start"の) x軸とy軸 の合計距離に基づきます。
        (何も指定が無ければ起点から放射状にトゥイーンが広がります)
        <br/>
        axisプロパティを使用することで、x(横方向)、y(縦方向)のどちらか片方の軸に絞って
        スタッガートゥイーンの伝播方向を指定することができます。

        <br/>
        以下のデモは、上述(grid)のデモに axis:"x" を追加しています。
      </p>
      <pre>
        {
          stagger: {
            axis: "x",
          }
        }</pre>
      <div class="element__parent axis_x">
        <div class="rect">axis : "x"</div>
        <div class="rect">axis : "x"</div>
        <div class="rect">axis : "x"</div>
        <div class="rect">axis : "x"</div>
        <div class="rect">axis : "x"</div>
        <div class="rect">axis : "x"</div>
        <div class="rect">axis : "x"</div>
        <div class="rect">axis : "x"</div>

        <div class="rect">axis : "x"</div>
        <div class="rect">axis : "x"</div>
        <div class="rect">axis : "x"</div>
        <div class="rect">axis : "x"</div>
        <div class="rect">axis : "x"</div>
        <div class="rect">axis : "x"</div>
        <div class="rect">axis : "x"</div>
        <div class="rect">axis : "x"</div>

        <div class="rect">axis : "x"</div>
        <div class="rect">axis : "x"</div>
        <div class="rect">axis : "x"</div>
        <div class="rect">axis : "x"</div>
        <div class="rect">axis : "x"</div>
        <div class="rect">axis : "x"</div>
        <div class="rect">axis : "x"</div>
        <div class="rect">axis : "x"</div>
      </div>
      <p>
        以下のデモは、上述(grid)のデモに axis:"y" を追加しています。
      </p>
      <pre>
        {
          stagger: {
            axis: "y",
          }
        }</pre>
      <div class="element__parent axis_y">
        <div class="rect">axis : "y"</div>
        <div class="rect">axis : "y"</div>
        <div class="rect">axis : "y"</div>
        <div class="rect">axis : "y"</div>
        <div class="rect">axis : "y"</div>
        <div class="rect">axis : "y"</div>
        <div class="rect">axis : "y"</div>
        <div class="rect">axis : "y"</div>

        <div class="rect">axis : "y"</div>
        <div class="rect">axis : "y"</div>
        <div class="rect">axis : "y"</div>
        <div class="rect">axis : "y"</div>
        <div class="rect">axis : "y"</div>
        <div class="rect">axis : "y"</div>
        <div class="rect">axis : "y"</div>
        <div class="rect">axis : "y"</div>

        <div class="rect">axis : "y"</div>
        <div class="rect">axis : "y"</div>
        <div class="rect">axis : "y"</div>
        <div class="rect">axis : "y"</div>
        <div class="rect">axis : "y"</div>
        <div class="rect">axis : "y"</div>
        <div class="rect">axis : "y"</div>
        <div class="rect">axis : "y"</div>
      </div>

    </section>

    <!-- 
      ease 
    -->
    <section>
      <h3>ease</h3>
      <p>
        "ease" プロパティには定型値、関数を指定することができます。<br/>
        easeプロパティに指定された内容によって、各要素のトゥイーンの開始タイミング(伝播していくタイミング)が
        変化します。
        <br/>
        例えば "power2.out" を指定した場合、適用要素列の序盤でのトゥイーン伝播が緩やかになり(イージングの最初の緩いカーブ)、
        後半に向かうにつれてよりタイトな伝播となります。
        <br/>
        指定方法は通常のイージング指定と同じです。(最初が小文字な点に注意) "power2.out" ← こんな感じ。
        <br/>
        デフォルトは"none"です。
      </p>
      <p>ease:"power2.out"</p>
      <pre>
        {
          stagger: {
            ease: "power2.out",
          }
        }</pre>
      <div class="element__parent easeOne">
        <div class="rect">grid ease: "power2.out"</div>
        <div class="rect">grid ease: "power2.out"</div>
        <div class="rect">grid ease: "power2.out"</div>
        <div class="rect">grid ease: "power2.out"</div>
        <div class="rect">grid ease: "power2.out"</div>
        <div class="rect">grid ease: "power2.out"</div>
        <div class="rect">grid ease: "power2.out"</div>
        <div class="rect">grid ease: "power2.out"</div>
      </div>
      <p>ease:"slow"</p>
      <pre>
        {
          stagger: {
            ease: "slow",
          }
        }</pre>
      <div class="element__parent easeTwo">
        <div class="rect">grid ease: "slow"</div>
        <div class="rect">grid ease: "slow"</div>
        <div class="rect">grid ease: "slow"</div>
        <div class="rect">grid ease: "slow"</div>
        <div class="rect">grid ease: "slow"</div>
        <div class="rect">grid ease: "slow"</div>
        <div class="rect">grid ease: "slow"</div>
        <div class="rect">grid ease: "slow"</div>
      </div>
    </section>

    <!-- 
      repeat
    -->
    <section>
      <h3>repeat</h3>
      <p>
        
        Repeats immediately, 
        not waiting for the other staggered animations to finish.
        <br>
        Staggerのオブジェクト指定にRepeatを使用すると、
        他のStaggerアニメーションの終了を待つことなく直ぐにリピートします。

        <br>
        <br>

        If you put your repeat in the top level of the vars object 
        of your tween like gsap.to(... {repeat:-1, stagger:{...}), 

        it waits for all of the sub-tweens to finish 
        before repeating the WHOLE sequence, 
        <br>

        staggerプロパティと同階層に repeat を指定した場合、<br/>
        (例えば gsap.to(... {repeat:-1, stagger:{...}) といった感じ)
        全てのサブトゥイーンが終了するのを待って、全てのシーケンスを繰り返し(リピートし)ます。
        <br>


        but if you prefer to have each sub-tween repeat independently 
        (so that as soon as each one completes, 
        it immediately repeats itself), 
        simply nest the repeat (and yoyo if necessary) inside 
        the advanced stagger object, 
        like gsap.to(... {stagger:{repeat:-1, ...}});

        gsap.to(... {repeat:-1, stagger:{...})のようにtweenのvarsオブジェクトのトップレベルに
        リピートを配置すると、
        すべてのサブtweenが終了してからシーケンス全体を繰り返しますが、
        それぞれのサブtweenを独立して繰り返したい場合（それぞれが完了するとすぐに繰り返すように）、
        次のように高度なstaggerオブジェクト内にリピート（および必要に応じてyoyo）ネストするだけで、
        gsap.to(... {repeat:-1, stagger:})のように繰り返すオブジェクトは、
        すべてのtweenが完全に終わるまで待機します。 to(... {stagger:{repeat:-1, ...}}); 
        同じことがコールバック（onUpdate, onComplete, onStartなど）にも当てはまります 
        - staggerオブジェクトの内部に含めると、要素ごとに発火します。
        これは、高度なスタッガーオブジェクトがサブツイストのためのvarsオブジェクトであるのと
        ほぼ同じと考えてください。

      </p>
      <div class="element__parent gridRepeat">
        <div class="rect">stagger{ repeat:8, }</div>
        <div class="rect">stagger{ repeat:8, }</div>
        <div class="rect">stagger{ repeat:8, }</div>
        <div class="rect">stagger{ repeat:8, }</div>
        <div class="rect">stagger{ repeat:8, }</div>
        <div class="rect">stagger{ repeat:8, }</div>
        <div class="rect">stagger{ repeat:8, }</div>
        <div class="rect">stagger{ repeat:8, }</div>
      </div>

    </section>


  </section>

</article>


</main>


<script type="module" src="./index.js" defer></script>

</body>
</html>